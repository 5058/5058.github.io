<head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>第一个程序 | 墙哥陪你写Python</title>
</head>

<h1 id="墙哥陪你写python"> <a href = "index.html">墙哥陪你写Python</a></h1>

<hr>

<h2 id="第一个程序-用python-打开浏览器帮你-google">第一个程序 -&gt; 用Python 打开浏览器帮你 Google</h2>

<p>这是你在真实世界中碰到的第一个Python程序，程序来自Python源码中的Tools/Script/google.py，我在其基础上做出了一些修改。</p>

<pre><code>#! /usr/bin/env python
# coding = utf-8

import sys, webbrowser

def main():
"""
在浏览器中打开Google，来搜索你输入的关键字
"""
    args = sys.argv[1:]
    if not args:
        print "Usage: %s querystring" % sys.argv[0]
        return
    list = [] #空列表
    for arg in args:
        if '+' in arg:
            arg = arg.replace('+', '%2B') #用后者替换前者
        if ' ' in arg:
            arg = '"%s"' % arg
        arg = arg.replace(' ', '+')
        list.append(arg) #追加
    s = '+'.join(list) #连接字符串
    url = "http://www.google.com/search?q=%s" % s
    webbrowser.open(url) #在浏览器中打开上面的url

if __name__ == '__main__':
    main() #如果当前脚本作为主脚本被解释器执行，执行函数main()
</code></pre>

<p>你可以忽略掉所有上面的代码，只需要将其复制到一个google.py文件中，打开shell或者cmd，执行下面这行命令：</p>

<pre><code>$ python google.py python
</code></pre>

<p>此时无声胜有声。</p>

<h2 id="剖析googlepy">剖析google.py</h2>

<p>的确，可能对于一行Python代码也没有写过的程序员来说，这有一些困难。</p>

<h3 id="第1行解释器路径">第1行，解释器路径</h3>

<p>在linux系统上，我们可以直接在shell中输入下面的命令执行脚本：</p>

<pre><code>$ google.py python
</code></pre>

<p>google.py文件会去第一行定义的那个env中寻找Python解释器，解释脚本下面的内容。也可以直接把解释器地址硬编码到第一行，例如</p>

<pre><code>#! /usr/bin/python
</code></pre>

<p>当然如果在这个位置不存在Python解释器，那么文件会执行失败。</p>

<p>在Window系统上，也可以这么干，不过系统会使用默认应用程序来打开Python脚本，如果你默认打开.py文件的程序是Python解释器，那么程序会顺利执行，如果默认打开.py文件的程序是文本编辑器，那么文本编辑器会被启动，并打开此文件。</p>

<h3 id="第2行编码">第2行，编码</h3>

<p>Python是一门有<strong>编码之殇</strong>的语言。</p>

<p>Python 2.7，编译器默认python文件编码为ASII，所以我们需要指定文件编码，如第二行所示，不过还有另一种定义方式：</p>

<pre><code># -*- coding:utf-8 -*-
</code></pre>

<h3 id="第4行import">第4行：import</h3>

<p>就像C中的#include，Java中的import（前两者放在一起显然是不恰当的），PHP中的include等等一样，import是Python中实现模块化的方式，我们可以在webbrowser中实现所有功能，然后import进入我们的脚本，调用webbrowser中的函数来帮我们做事情。import是Python中的一个重要机制，我们在后面还会对其进行讨论。</p>

<h3 id="第6行函数">第6行：函数</h3>

<pre><code>def foo():
    pass
</code></pre>

<p>上面的这两行代码定义了一个函数foo，函数什么也没干，但是占用了一块内存。我们可以使用def关键字来定义一个函数，后面别忘了还有一个<strong>冒号</strong>。</p>

<p>如本例，我们定义了一个函数main()。</p>

<h3 id="第7行注释">第7行：注释</h3>

<p>Python中有两种注释代码的方式，一种如下：</p>

<pre><code># 这里是注释
</code></pre>

<p>一种如下：</p>

<pre><code>"""
这里是注释
"""
</code></pre>

<h3 id="第10行缩进">第10行：缩进</h3>

<p>Python用缩进标记代码块，函数中的代码，可以看到，都缩进到了同一级别。一个向里的缩进标记着一个代码块的开始，接下来所有的同级别以及更向里的缩进都属于这个代码块，缩进的结束标记着代码块的结束。</p>

<p>如代码所示，<strong>for</strong>和<strong>if</strong>都标记了一个代码块，python中的if，while同其他语言中的语义是相同的，for有一些区别。</p>

<h3 id="第15行python中的for循环">第15行：Python中的for循环</h3>

<p>Python 中的<strong>for</strong>更类似于迭代器。也就是Java里面的<strong>foreach</strong>。</p>

<pre><code>&gt;&gt;&gt; for i in range(0,3):
...     i
...
0
1
2
&gt;&gt;&gt; for i in [0, 1, 2, 3]:
...     i
...
0
1
2
3
</code></pre>

<h3 id="print-打印函数">print 打印函数</h3>

<p>print函数用于打印信息：</p>

<pre><code>&gt;&gt;&gt; i = 2
&gt;&gt;&gt; print i
2
&gt;&gt;&gt; print "Hello Python!"
Hello Python!
</code></pre>

<p>在Python 3中，Python变成了一种更函数化的样子：</p>

<pre><code>&gt;&gt;&gt; i = 2
&gt;&gt;&gt; print(i)
2
&gt;&gt;&gt; print("Hello Python 3")
Hello Python 3
</code></pre>

<h3 id="13行-python内置数据类型列表">13行， Python内置数据类型：列表</h3>

<pre><code>list = []
</code></pre>

<p>这一行代码声明了一个空列表，在Python的列表中，你可以放置任意类型，任意长度的对象。Python中的列表类似于C++中的vector，只不过，Python的一个列表中是可以存放不同数据类型的数据。</p>

<p>在后面的代码中，我们看到，可以使用<strong>append</strong>方法来向列表中追加内容。</p>

<h3 id="第16行字符串数据类型和字符串函数replace">第16行，字符串数据类型，和字符串函数replace</h3>

<p>同其他编程语言一样，每一个数据类型有一套内置函数。replace就是str，字符串类型的内置函数之一。</p>

<h3 id="第21行join把字符串列表连接成一个字符串">第21行，join，把字符串列表连接成一个字符串</h3>

<p>这是Python中一种<strong>相对高效</strong>的连接字符串的处理方式。</p>

<pre><code>&gt;&gt;&gt; a = ['Hello', 'Python', '!']
&gt;&gt;&gt; ' '.join(a)
'Hello Python !'
&gt;&gt;&gt; 'Hello' + ' ' + 'Python' + ' ' + '!'
'Hello Python !'
</code></pre>

<p>使用加号<strong>‘+’</strong>是另一种连接字符串的方式，只不过效率偏低，甚至会非常低。</p>

<h3 id="第26行运行脚本main空间-模块化复用">第26行，运行脚本，<strong>main</strong>空间, 模块化，复用</h3>

<pre><code>if __name__ == '__main__':
    main()
</code></pre>

<p>在Python中，前后带有双下划线的变量往往是系统变量，例如上面这两行代码中的<strong><em>_name_</em></strong>和<strong><em>_main_</em></strong>。我们会在后面的章节中详细介绍Python的作用域和命名空间，在这里，你只需要记住下面的这些事情：</p>

<ul>
<li>这两行代码的作用是：如果当前文件作为主文件被Python解释器执行，将会执行函数main()。否则，if下面代码块中的东西永远不会执行。</li>
<li>这是对单一Python文件进行测试的最好方式，当此文件被其他文件引用时，if下面的内容不会执行。</li>
<li>这是实现模块复用的基础，如果你打开文件webbrowser.py(Python/Lib/webbrowser.py)，你会在文件的最下方同样发现这两行代码。这两行代码的作用就是测试。</li>
<li>永远用这种方式写Python</li>
</ul>

<h3 id="最后">最后</h3>

<p>其实到现在，你几乎已经掌握了写一个Python脚本的所有必要要素：流程控制，数据类型，函数，模块引用等等。接下来，我们来详细的学习Python。</p>

<p>首先，是<a href="innertype.html">内置数据类型</a></p>

<div class = 'footer'>
    <a href="index.html">墙哥陪你写Python</a> @ <a href="">辣椒面12138</a>
</div>
