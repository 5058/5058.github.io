
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>innertype</title>
<link rel="stylesheet" href="https://stackedit.io/res-min/themes/base.css" />
<script type="text/javascript" src="https://stackedit.io/libs/MathJax/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body><div class="container"><h1 id="墙哥陪你写python">墙哥陪你写Python</h1>

<hr>

<h2 id="week-1-内置类型">Week 1 ：内置类型</h2>

<h4 id="数字">数字</h4>

<p>实际使用时，抛开什么浮点，整型，长整型，只需要输入你想要的数字就可以了，在数字上，我们可以做 + ，-，<em>，/，*</em>，还有//，%，+=，/=等等，但是没有++和–，关于Python中为什么没有++和–,知乎有一个<a href="http://www.zhihu.com/question/20913064">答案</a>。</p>

<p>让我们打开Python Shell，实验一下这些符号。在Python 2和Python 3中，有一点点小的区别。</p>

<pre><code>&gt;&gt;&gt; #Python 2.7：
&gt;&gt;&gt; 2/3
0
&gt;&gt;&gt; 2//3
0
&gt;&gt;&gt; 2.0 / 3
0.666666666666666
&gt;&gt;&gt; 2.0 // 3
0.0

&gt;&gt;&gt; #Python 3.3
&gt;&gt;&gt; 2/3
0.666666666666666
&gt;&gt;&gt; 2//3
0
</code></pre>

<p>在进行运算时，会涉及符号的优先级问题:</p>

<pre><code>&gt;&gt;&gt; 3*1**4
3
</code></pre>

<p>所以，<strong>使用括号</strong>，在你需要明确优先级的时候。</p>

<h5 id="python-2和python-3中数字类型的一点区别">Python 2和Python 3中数字类型的一点区别</h5>

<hr>

<p>使用type()可以查看对象的类型：</p>

<pre><code>&gt;&gt;&gt; #Python 2.7
&gt;&gt;&gt; type(2.9)
&lt;typy 'float'&gt;
&gt;&gt;&gt; type(2)
&lt;type 'int'&gt;
&gt;&gt;&gt; import sys
&gt;&gt;&gt; type(sys.maxint + 1)
&lt;type 'long'&gt;
</code></pre>

<p>如上所示，Python 2.7共有float，int，long三种类型。让我们回到Python 3</p>

<pre><code>&gt;&gt;&gt; #Python 3.3
&gt;&gt;&gt; #sys里面已经没有maxint了，Python3 中使用Python 2中的long 作为整型int
&gt;&gt;&gt; type(22222222222222222222222222222222222222222)
&lt;class 'int'&gt;#通过这，你可以间接发现int是一个类，数字是一个类的实例，也就是对象
</code></pre>

<h4 id="列表">列表</h4>

<p>列表是Python中一个很强大的数据结构。列表是泛型的，就是说，列表中的数据类型可以是任何对象：</p>

<pre><code>&gt;&gt;&gt; a = [1,2,3,4]
&gt;&gt;&gt; b = ['hello', 2, [1,3], {1 : 'jason'}, lambda x: x**3]
&gt;&gt;&gt; c = [c]
NameError....c is not defined
</code></pre>

<h5 id="遍历">遍历</h5>

<pre><code>&gt;&gt;&gt; for i in b:
...  i
...
'hello'
2
[1,3] 
{1 : 'jason'} 
lambda x: x**3
&gt;&gt;&gt;
</code></pre>

<h5 id="下标">下标</h5>

<pre><code>&gt;&gt;&gt; d = map(b[-1], a)
&gt;&gt;&gt; #Python 2.7
&gt;&gt;&gt; d
[1, 8, 27, 64]
&gt;&gt;&gt; #Python 3.3
&gt;&gt;&gt; list(d)
&gt;&gt;&gt; d
[1, 8, 27, 64]
</code></pre>

<p>这里，我们变了一个稍微复杂的魔法，首先是<strong>map</strong>函数，map函数的第一个参数是一个函数，第二个参数是一个可迭代对象。map函数会将函数一次作用在可迭代对象的每一个元素上，最后得到一个列表（Python 2）或者map对象（不可迭代，Python 3）。注意Python 2和Python 3中map的区别。</p>

<p>另外一个魔法是<strong>lambda</strong>，说实话，Python中的lambda是一个鸡肋。虽然是鸡肋，但还是要说一说。</p>

<p>lambda可以在一行内定义一个函数,如上所示：</p>

<pre><code>lambda x : x ** 3
</code></pre>

<p>上面这行代码定义了一个<strong>匿名函数</strong>，没有名字，接受一个参数x，返回x ** 3。使用lambda可以简洁的完成许多简单操作。</p>

<h5 id="列表推倒">列表推倒</h5>

<p>还是上面的那个将a列表中的数字全部立方，得到一个新列表，我们可以用列表推倒一行做到：</p>

<pre><code>&gt;&gt;&gt; [i ** 3 for i in a]
[1 ,8 ,27, 64]
</code></pre>

<p>列表推倒是Python最推荐使用的语法之一，简洁而有效。如果你是一个Python新手，实现上面这个功能，其实你很可能写出下面这样的代码：</p>

<pre><code>&gt;&gt;&gt; result = []
&gt;&gt;&gt; for i in a:
...  result.append(i**3)
...
&gt;&gt;&gt; result
[1, 8, 27, 64]
</code></pre>

<p>永远不要这样写Python！这个风格是C，不是Python，写Python时，让列表推倒取代你写C时的惯用思维，会对你有很大的帮助。</p></div></body>
</html>
